{% extends "base.html" %}

{% block title %}Print Tracker - Edit: {{ filamentroll }}{% endblock %}

{% block content %}
<main>

    <h2> Filament Roll</h2>
    {{ filamentroll }}<br>
    <a href={% url 'prints:roll_detail' filamentroll.id %}>Cancel Edit</a><br>

    {% if filamentroll.owner != user%}
    <p>Filament Roll cannot be deleted since it is owned by someone else.</p>
    {% elif filamentroll.filament_instances.count != 0 %}
    <p>Filament Roll cannot be deleted since it is associated with at least one existing Filament Instance.</p>
    {% elif filamentroll.filament_instances.count == 0 %}
    <a href={% url 'prints:roll_delete' filamentroll.id %}>Delete Filament Roll</a><br>
    {% endif %}
    {% comment %} Provide `FilamentInstance` list here? {% endcomment %}

    <form action="" method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <input type="submit" value="Save changes to Filament Roll" />
    </form>

</main>
{% endblock %}